ğŸ“Œ INSTRUCCIONES PARA CORRER Y PROBAR EL PROYECTO

1. ğŸš€ Iniciar el backend (Django)
--------------------------------
Desde la raÃ­z del backend (donde estÃ¡ `manage.py`):

> python manage.py migrate
> python manage.py runserver

Esto iniciarÃ¡ el backend en: http://localhost:8000


2. ğŸ’» Iniciar el frontend (React + Vite)
----------------------------------------
Desde la carpeta `client/` o `frontend/` segÃºn tu estructura:

> npm install
> npm run dev

Esto lanza el frontend en: http://localhost:5173


3. ğŸ”§ Variables de entorno necesarias
-------------------------------------
Archivo: client/.env o frontend/.env

Contenido:
VITE_BACKEND_URL=http://localhost:8000


4. ğŸŒ Rutas disponibles
-----------------------

ğŸ¯ FRONTEND (React + Vite):
- http://localhost:5173/                     â†’ Redirige a /tasks
- http://localhost:5173/tasks               â†’ Lista todas las tareas
- http://localhost:5173/tasks-create        â†’ Formulario para crear tarea
- http://localhost:5173/tasks/:id           â†’ Editar tarea existente

ğŸ“¡ BACKEND (Django API):
- http://localhost:8000/api/v1/tasks/         â†’ `GET` (listar), `POST` (crear)
- http://localhost:8000/api/v1/tasks/<id>/    â†’ `GET`, `PUT`, `DELETE`
- http://localhost:8000/api/csrf/             â†’ âœ… Devuelve y establece la cookie CSRF

ğŸ§ª DOCUMENTACIÃ“N API:
(opcional si instalaste drf-yasg o similar)
- http://localhost:8000/api/docs/     â†’ Swagger
- http://localhost:8000/api/redoc/    â†’ Redoc


5. âœ… Seguridad CSRF (implementada)
-----------------------------------
- Se hace una llamada inicial a `/api/csrf/` en el `App.jsx`
- El token CSRF se guarda como cookie `csrftoken`
- Cada peticiÃ³n `POST`, `PUT`, `DELETE` incluye el header `X-CSRFToken`
  (ver `tasks.api.js`)


6. âš ï¸ Problemas comunes
-----------------------
âŒ Error 403 Forbidden:
  - AsegÃºrate de que tu frontend usa `withCredentials: true` en axios
  - Verifica que el backend tenga configurado correctamente:
    - `CORS_ALLOWED_ORIGINS`
    - `CSRF_TRUSTED_ORIGINS`
  - Visita directamente `/api/csrf/` en el navegador para ver si se genera la cookie

âŒ Error 404 con tareas nuevas:
  - A veces las tareas creadas no aparecen por problemas de redirecciÃ³n o de base de datos
  - Revisa `http://localhost:8000/api/v1/tasks/` para ver todas las tareas
  - Verifica que estÃ©s accediendo a un ID existente

âŒ URL malformada `/undefined/api/v1/tasks/`:
  - AsegÃºrate de haber definido `VITE_BACKEND_URL` correctamente en `.env`
  - Reinicia el servidor con `npm run dev`
